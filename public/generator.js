var lib = {
	"ship" : {
		"char_limit" : 16,
		"num_words" : [1,2,2,2,2],
		"prefixes" : ["The ", "The ","USS ", "VSS ", ""],
		"general" : ["Boring&", "&Ship"],
		"pirate" : [
			"Rascal's&", "Bane","Captain's&","&Pride","Devil's&","&Death","Horrid&","Red&","Night's&",
			"Knave","Treasure","Pirate's&","Rage","Screaming&","Demon","Black&","Cursed&","Cannon","Doom",
			"Fear","Foul&","Night","&Greed","Greedy&","Poison","Pride","Shameful&","Vile&","Jewel","Wandering&","Hangman's&",
			"Hangman","Plunder","Doubloon", "Damned&", "&of the Sky", "&of the Stars", "Howl", "Mystery", "Scurvy&",
			"Calypso's&", "&of the East", "&of the West", "&of the North", "&of the South", "Black&", "Cruel&", "Fall of&"
		],
		"jaeger" : [
				"Titan","Sequoia","Mira","Stampede","Fermi","Nebulae","Helios","Hopper","Yellowstone","Roadrunner",
				"Cherno","Zin","Raptor","Sakura", "Intrepid","Ranger","Discover","Dawn","Endeavor","Pershing","Luna",
				"Vulcan","Spirit","Zeus","Garnet","Blackthorn","Hercules","Amazon","Moonlight","Jade","Zeus","Mustang",
				"Ruby","Tide","Vesta","Sierra","Willow","Cluster","Encanto","Juno","Jet","Emerald","Aurora",
				"Beacon","Hybrid","Lattice","Olympus","Edge","Boomer","Fission","Typhoon","Nimbus","Midway",
				"Brawler","Yukon","Coyote","Alpha","Tango","Horizon","Brave","Romeo","Blue","Tacit",
				"Ronin","Diablo","Intercept","Solar","Prophet","Puma","Real","Eden","Assassin","Gipsy","Danger","Matador",
				"Fury","Shaolin","Rogue","Specter","Chrome","Brutus","Crimson","Striker","Eureka","Nova","Hyperion","Echo",
				"Saber","Mammoth","Apostle","Hydra","Lucky","Yankee","Beta","Omega","Gamma","Delta","Epsilon",
				"Zeta","Theta","Iota","Lambda","Omicron","Pi","Rho","Sigma","Tau","Upsilon",
				"Phi","Psi","Renegade","Bombshell","Swift","Raging","Bravo","Foxtrot","Tango","Victor","Whisky","Zulu",
				"Atlas","Avenger","Banshee","Boomerang","Brigand","Buccaneer","Buffalo","Comet","Coronado","Corsair",
				"Defiant","Devastator","Dominator","Dragon","Eagle","Electra","Envoy","Express","Falcon","Fireball",
				"Firebrand","Firefly","Fox","Gauntlet","Gladiator","Grizzly","Havoc","Hawk","Helldiver","Hotspur","Hurrican",
				"Invader","Lancer","Liberator","Lightning","Mariner","Mars","Master","Mentor","Meteor","Nomad","Orion",
				"Phantom","Proctor","Rapid","Reliant","Scimitar","Sentinel","Shrike","Spitfire","Stirling","Tempest",
				"Thunderbolt","Tornado","Vega","Vindicator","Whirlwind",
				"Wildcat","Zero"
			],
		"starfleet" : [
			"Gryphon","Thunderchild","Geronimo","Dakota","Summit","Ambassador","Enterprise","Excalibur","Gandhi",
			"Sovereign","Andromeda","Drake","Hermes","Ajax","Apollo","Clement","Gage","Bradbury","Centaur","Armstrong","Challenger",
			"Cheyenne","Chimera","Portland","Endeavour","Constellation","Gettysburg","Hathaway","Magellan","Stargazer","Victory",
			"Hood","Intrepid","Lexington","Yorktown","Pegasus","Explorer","Ranger","Carolina",
			"Daedalus","Essex","Lovell","Arcos","Kelvin","Cairo","Charleston","Excelsior","Fredrickson",
			"Lakota","Melbourne","Paris","Roosevelt","Freedom","Voyager","Dauntless","London","Odyssey",
			"Robinson","Venture","Pathfinder", "Vengeance", "Vanguard", "Valiant"
		],
		"silly" : [
			"Apple","Berry","Scoot","Prance","Fruit","Gizmo","Pansy","Pudding","Dove","Slippers",
			"Sunrise","Windbumpkin","Shine","Charity","Fluttering&","Bubble", "Flake","Bonnet","Blissful&",
			"Tickle", "Classy&", "Spoon", "Lemon", "Rumble", "Sauce", "Cotton", "Pillow", "Mahogany&",
			"Sparky&", "Sparkle", "Fizzle", "Mister&", "Shiney&", "Dainty&","Perky&","Precious","Darling",
			"Cuddle","Scrumptious&","Dainty&","Clumsy&","Wiggle","Princess"
		]
	},

	"crew" : {
		"char_limit" : 30,
		"num_words" : [1],
		"prefixes" :[""],

		"general" : [
			"Spoons", "Blub Blub", "Blup Blup", "Stick", "Tips", "Nibz"
		],
		"lanius"  : [
			"Aluminium","Bismuth","Chromium","Cobalt","Copper","Gallium","Iron","Lead","Magnesium","Mercury",
			"Nickel","Plutonium","Rhodium","Silver","Titanium","Tin","Uranium","Zinc","Zirconium","Lithium",
			"Duralumin","Kryron","Nichrome","Megallium","Vitallium","Brass","Gunmetal","Electrum","Molybdochalkos",
			"Galfenol","Galinstan","Ferrochrome","Spiegeleisen","Steel","Crucible","Damascus", "MetalBro"
		],
		"rock"    : [
			"Basalt","Granite","Scoria","Chert","Gneiss","Tale","Pyrite","Onyx", "Bloodstone", "Spurr","Skaftafell",
			"Thebes","Bornholm","Titanite","Asphalt","Granite","Graphite","Dolomite","Marble","Mica","Olivine","Pumice",
			"Quartz","Salt","Slate","Silica","Talc", "RockBro"
		],
		"crystal" : [
			"Amber","Amethyst","Ametrine","Apatite","Azurite","Beryl","Chrysocolla","Citrine","Diamond","Emerald",
			"Fluorite","Garnet","Heliotrope","Hematite","Hessonite","Iolite","Jade","Jasper","Kunzite","Kyanite","Lazuli",
			"Moonstone","Onyx","Opal","Pearl","Quartz","Rhodolite","Ruby","Sapphire","Sard","Sardonyx","Spinel","Sunstone",
			"Tanzanite","Topaz","Zircon", "CrystalBro"
		],
		"human"   : [
			"Griggs", "Bobert", "Red Shirt", "Jean-Luc", "Picard", "Bully","Debbie","Dusty","Armstrong","Jennings","Chester",
			"Franklin","Price","Robertson","Henderson","Stevens","Jenkins","Palmer", "Kaylee","Mal","Wash","Inara","Jayne",
			"Cap'n","Wheaton","Pavel","Scotty","Spock","Lee","Kara","Sharon","Gaius","Will"
		],
		"slug"    : [
			"SlugBro", "Auditore","Ezio","Booth","Balthasar","Gerard","Gavrilo","Princip","Kubis","Jozef","Gabcik", "Corday",
			"Godse","Yusupov","Oswald","Lugovoi","Brutus","Dismas","Gestas","Turpin","Villon","Peruggia","Abagnale","Mason",
			"Payne", "Gugasian", "Spaggiari"
		],
		"engi"    : [
			"EngiBro", "Neer","Gin","Eli","Cylon","Six","Seven","Bit","Enzo","Dozer","Kaylee","Megabyte","Hexadecimal",
			"Mouse","Hack","Slash","Andromeda","Nuts","Bolts","Wrench","TheHammer","Optic"
		],
		"mantis"  : [
			"MantisBro", "B'eggh","Bbo'nats","Bbothont","Boiquaatho","Camokel","Chigosthanta","Chotho","Clinacya","Ctekelllacl",
			"Cyiqushutha","Cysasarug","Dacarngn","Dhogoshu","Dhothosca","Elothaaas","Eno-till","G'halastall","Gghal","Ghubbonthomm",
			"Gnolili","Haakephog","Han-uggggonak","Hatathoarlih","Hul'shakrtha","Iqutthuatl","Ithatin-hot","Ithostha","L'urugotllha",
			"Le'larua","Lithleglog","Lllositac","M'phamothan","Ma'ugotl","Maataraas","Mishazosachu","Mothallza","N'ygghot","Nth-boi",
			"Okekihuaat","Otlaclz","Phokih-sho","Rh'maughl","Rlachlh-kiath","Rlorhulhalog","Rshoaeke","Saguaoig","Som'sa","Thothac",
			"Uggnyibo","Uglho-mosh","Yatlllisaal","Za'yothao","Zogurn-tamm","Zotu-ndats"
		],
		"zoltan"  : [
			"Locke","Epicurus","Zeno","Confucius","Descartes","Aristotle","Plato","Watts","Russell","Hume","Pascal",
			"Nietzsche","Leibniz","Boole","Kant","Marx","Godel","Pythagoras","Socrates","Hobbes","Newton","Gauss","Euler",
			"Riemann","Fermat","Euclid","Lagrange","Archimedes", "EnergyBro"
		]

	}
};

String.prototype.endsWith = function(suffix) {
    return this.indexOf(suffix, this.length - suffix.length) !== -1;
};


var generator = function(type, lists){
	var gen = lib[type];
	var wordlist = gen.general;
	_.each(lists, function(list){
		wordlist = _.union(wordlist, gen[list])
	});
	var num_words = _.sample(gen.num_words);

	var getName = function(r){
		var nw = _.sample(wordlist);
		r.push(nw);
		//if ending in &
		if(nw.endsWith('&')){
			return getName(r);
		}
		//if starts with & on first
		if(r.length == 1 && r[0].indexOf('&') == 0){
			return getName([]);
		}
		//if over char_limit
		if(r.join(" ").length > gen.char_limit){
			return getName([]);
		}
		if(r.length < num_words){
			return getName(r);
		}
		return r.join(" ").replace(/&/g, "");
	}
	var result = getName([]);

	//Add prefix
	if(result.length < gen.char_limit - 4){
		result = _.sample(gen.prefixes) + result;
	}

	return result;

};